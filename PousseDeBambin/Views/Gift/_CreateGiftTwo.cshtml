@model PousseDeBambin.Models.Gift

***REMOVED*** On fait un formulaire ajax de création d'objet. -->
<td class="divObjectImage">
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    @Html.HiddenFor(model => model.ListID)

    @Html.LabelFor(model => model.ImageUrl)
    @Html.TextBoxFor(model => model.ImageUrl, new { @class="createImageUrl" })
    <img src="@Model.ImageUrl" class="objectImage img-thumbnail" />
</td>
<td class="divObjectGift">
    <div class="divObjectWebsite">
        <p class="ajout_cadeau">Ajout d'un nouveau cadeau !</p>
        <div>
            @Html.LabelFor(model => model.WebSite)
        </div>
        @Html.TextBoxFor(modelItem => Model.WebSite)
    </div>
    <div class="divObjectName">
        <div>
            @Html.LabelFor(model => model.Name)
        </div>
        @Html.TextBoxFor(modelItem => Model.Name)
    </div>
    <div class="divObjectDescription">
        <div>
            @Html.LabelFor(model => model.Description)
        </div>
            @Html.TextAreaFor(modelItem => Model.Description)
      </div>
</td>
<td class="divObjectPrice">
    @Html.LabelFor(model => model.Price)
    <p class="textWithoutWrap">@Html.TextBoxFor(modelItem => Model.Price)</p>
</td>
<td class="divAddObject">
    <div id="giftInfos">
        <div>
            <input id="btnCreateGift" type="submit" value="Valider l'objet" />
        </div>
    </div>
</td>

<script>
    $(document).ready(function () {
        $("#btnCreateGift").click(function () {
            submitAddGift();
        });

        function submitAddGift() {
            $.ajax({
                url: "@Url.Action("CreatePartialTwo", "Gift")",
                data: {
                    ListID: "@Model.ListID",
                    ImageUrl: $("#ImageUrl").val(),
                    WebSite: $("#WebSite").val(),
                    Name: $("#Name").val(),
                    Description: $("#Description").val(),
                    Price: $("#Price").val()
                },
                type: "POST",
                content: 'application/json; charset=utf-8',
                datatype: 'json',
                success: function (data) {
                    $("#createForm").html(data);
                    refreshGiftsList();
                }
            });
        }
    });
</script>
